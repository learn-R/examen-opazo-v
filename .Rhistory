"Fuera de la fuerza de trabajo", TRUE ~ NA_character_)))
View(datos_proc)
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_disp_trabajar = e12, motiv_despido = e23, motiv_renuncia = e24,
id = id_identificacion, estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto", edad_tramo > 9 ~ "Adulto mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ_recod = case_when(activ >= 1 & activ < 3 ~ "Ocupados/Desocupados", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
View(datos_proc)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto", edad_tramo > 9 ~ "Adulto mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ_recod = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
View(datos_proc)
frq(ENE_2021_08$activ)
frq(datos_proc$activ_recod)
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_disp_trabajar = e12, motiv_despido = e23, motiv_renuncia = e24,
id = id_identificacion, estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto", edad_tramo > 9 ~ "Adulto mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
View(datos_proc)
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_trab = e12, motiv_despido = e23, motiv_renuncia = e24,
id = id_identificacion, estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto", edad_tramo > 9 ~ "Adulto mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_trab = e12, motiv_despido = e23, motiv_renuncia = e24,
id = id_identificacion, estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_trab = if_else(motiv_no_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_trab %in% c(1,2,3,10,12,13), "Otra razón",
if_else(motiv_no_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_trab %in% c(8,9), "Por motivos de salud permanentes o temporales")))))
datos_proc <- datos_proc %>%
mutate(motiv_no_trab = if_else(motiv_no_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_trab %in% c(1,2,3,10,12,13), "Otra razón",
if_else(motiv_no_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
View(datos_proc)
frq(datos_proc$motiv_no_trab)
frq(ENE_2021_08$e12)
frq(datos_proc$motiv_no_trab)
frq(datos_proc$motiv_no_trab)
frq(ENE_2021_08$e12)
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_despido = e23, motiv_renuncia = e24,
id = id_identificacion, estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(1,2,3,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
frq(datos_proc$motiv_no_dis_trab)
frq(datos_proc$motiv_despido)
View(datos_proc)
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, id = id_identificacion, estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(1,2,3,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
View(datos_proc)
find_var(ENE_2021_08, "e12") #nr col: 125 -motivos de no estar disponible para trabajar
find_var(ENE_2021_08, "e9")
class("e9") #all==character
frq(ENE_2021_08$e9)
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(1,2,3,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
frq(ENE_2021_08$e12)
frq(ENE_2021_08$e9)
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto"),
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
datos_proc <- datos_proc %>%
mutate(motiv_no_bus_trab = if_else(motiv_no_bus_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_bus_trab %in% c(4), "Porque está estudiando o preparando estudios",
if_else(motiv_no_bus_trab %in% c(1,2,10,12,13,14,15,16,17,18,19,20,21), "Otra razón",
if_else(motiv_no_bus_trab %in% c(3,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_bus_trab %in% c(8,10), "Por motivos de salud permanentes o temporales",
if_else (motiv_no_bus_trab),  NA_character_))))))
datos_proc <- datos_proc %>%
mutate(motiv_no_bus_trab = if_else(motiv_no_bus_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_bus_trab %in% c(4), "Porque está estudiando o preparando estudios",
if_else(motiv_no_bus_trab %in% c(1,2,9,10,12,13,14,15,16,17,18,19,20,21), "Otra razón",
if_else(motiv_no_bus_trab %in% c(3,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_bus_trab %in% c(8,10), "Por motivos de salud permanentes o temporales",
NA_character_))))))
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto"),
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
datos_proc <- datos_proc %>%
mutate(motiv_no_bus_trab = if_else(motiv_no_bus_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_bus_trab %in% c(4), "Porque está estudiando o preparando estudios",
if_else(motiv_no_bus_trab %in% c(1,2,9,12,13,14,15,16,17,18,19,20,21,22), "Otra razón",
if_else(motiv_no_bus_trab %in% c(3,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_bus_trab %in% c(8,10), "Por motivos de salud permanentes o temporales",
NA_character_))))))
View(datos_proc)
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto"),
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto"),
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto"),
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_))))))
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto"),
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_)))))
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto",
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_))))))
datos_proc <- datos_proc %>%
mutate(motiv_no_bus_trab = if_else(motiv_no_bus_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_bus_trab %in% c(4), "Porque está estudiando o preparando estudios",
if_else(motiv_no_bus_trab %in% c(1,2,9,12,13,14,15,16,17,18,19,20,21,22), "Otra razón",
if_else(motiv_no_bus_trab %in% c(3,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_bus_trab %in% c(8,10), "Por motivos de salud permanentes o temporales",
NA_character_))))))
View(datos_proc)
View(datos_proc)
View(datos_proc)
frq(datos_prco$cine)
frq(datos_proc$cine)
datos_proc[datos_proc == 999] <- NA
frq(datos_proc$cine)
View(datos_proc)
frq(datos_proc$sexo)
frq(datos_proc$cine)
frq(datos_proc$edad_tramo)
frq(ENE_2021_08$tramo_edad)
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal, edad)
datos_proc <- datos_proc %>%
filter(edad < 15) %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
filter(edad > 15) %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
filter(edad < 15) %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal, edad)
datos_proc <- datos_proc %>%
filter(edad < 15) %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
View(datos_proc)
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal, edad)
datos_proc <- datos_proc %>%
filter(edad >= 15) %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- select(ENE_2021_08, sexo, cine, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal, edad)
datos_proc <- datos_proc %>%
filter(edad >= 15) %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto",
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_))))))
datos_proc <- datos_proc %>%
mutate(motiv_no_bus_trab = if_else(motiv_no_bus_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_bus_trab %in% c(4), "Porque está estudiando o preparando estudios",
if_else(motiv_no_bus_trab %in% c(1,2,9,12,13,14,15,16,17,18,19,20,21,22), "Otra razón",
if_else(motiv_no_bus_trab %in% c(3,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_bus_trab %in% c(8,10), "Por motivos de salud permanentes o temporales",
NA_character_))))))
datos_proc[datos_proc == 999] <- NA
saveRDS(datos_proc, file= "output/data/datos_proc.rds")
datos_proc <- select(ENE_2021_08, sexo, cine, edad, edad_tramo = tramo_edad, activ,
motiv_no_dis_trab = e12, motiv_no_bus_trab = e9, id = id_identificacion,
estrato, fact_exp = fact_cal)
datos_proc <- datos_proc %>%
filter(edad >= 15) %>%
mutate(edad_tramo = case_when(edad_tramo >= 1 & edad_tramo <= 3 ~ "Joven", edad_tramo > 3 &
edad_tramo <= 9 ~ "Adulto/a", edad_tramo > 9 ~ "Adulto/a mayor",
TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(activ = case_when(activ >= 1 & activ < 3 ~ "Dentro de la fuerza de trabajo", activ >= 3 ~
"Fuera de la fuerza de trabajo", TRUE ~ NA_character_))
datos_proc <- datos_proc %>%
mutate(motiv_no_dis_trab = if_else(motiv_no_dis_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_dis_trab %in% c(3), "Porque está estudiando o empezará a estudiar pronto",
if_else(motiv_no_dis_trab %in% c(1,2,10,12,13), "Otra razón",
if_else(motiv_no_dis_trab %in% c(4,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_dis_trab %in% c(8,9), "Por motivos de salud permanentes o temporales",
NA_character_))))))
datos_proc <- datos_proc %>%
mutate(motiv_no_bus_trab = if_else(motiv_no_bus_trab %in% c(5,6,7), "Es pensionado/a, jubilado/a o rentista",
if_else(motiv_no_bus_trab %in% c(4), "Porque está estudiando o preparando estudios",
if_else(motiv_no_bus_trab %in% c(1,2,9,12,13,14,15,16,17,18,19,20,21,22), "Otra razón",
if_else(motiv_no_bus_trab %in% c(3,11), "Por responsabilidades familiares (cuidado de
niños o personas dependientes) permanentes o temporales",
if_else(motiv_no_bus_trab %in% c(8,10), "Por motivos de salud permanentes o temporales",
NA_character_))))))
datos_proc[datos_proc == 999] <- NA
saveRDS(datos_proc, file= "output/data/datos_proc.rds")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(pacman)
pacman::p_load(tidyverse,
sjmisc,
srvyr,
dplyr,
tidyr,
sjPlot,
ggplot2,
gridExtra)
library(pacman)
pacman::p_load(tidyverse,
sjmisc,
srvyr,
dplyr,
tidyr,
sjPlot,
ggplot2,
gridExtra)
library(pacman)
pacman::p_load(tidyverse,
sjmisc,
srvyr,
dplyr,
tidyr,
sjPlot,
ggplot2,
gridExtra)
datos_proc <- readRDS(url("https://github.com/vichopazo/examen-opazo-v/raw/main/output/data/datos_proc.rds"))
View(datos_proc)
ene_2021_fact_cal <- datos_proc %>%
as_survey_design(ids = id,
strata = estrato,
weights = fact_exp)
View(ene_2021_fact_cal)
View(datos_proc)
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100, ci_low = prop_low*100, ci_upp = prop_upp*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(values_from = c("per", "total"))
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(values_from = c("per", "total"))
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(names_from = "activ", values_from = c("per", "total"))
options(survey.adjust.domain.lonely=TRUE)
options(survey.lonely.psu="adjust")
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(names_from = "activ", values_from = c("per", "total"))
options(survey.adjust.domain.lonely=TRUE) %>%
options(survey.lonely.psu="adjust")
options(survey.adjust.domain.lonely=TRUE)
options(survey.lonely.psu="adjust")
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(names_from = "activ", values_from = c("per", "total"))
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100, ci_low = prop_low*100, ci_upp = prop_upp*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(names_from = "activ", values_from = c("per", "total"))
View(IFT_sexo)
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100, ci_low = prop_low*100, ci_upp = prop_upp*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(names_from = "activ", values_from = c("per", "total"))
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100, ci_low = prop_low*100, ci_upp = prop_upp*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(names_from = "activ", values_from = c("per", "total"))
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100, ci_low = prop_low*100, ci_upp = prop_upp*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(names_from = "activ", values_from = c("per", "total"))
knitr::opts_chunk$set(echo = TRUE)
library(pacman)
pacman::p_load(tidyverse,
sjmisc,
srvyr,
dplyr,
tidyr,
sjPlot,
ggplot2,
gridExtra)
datos_proc <- readRDS(url("https://github.com/vichopazo/examen-opazo-v/raw/main/output/data/datos_proc.rds"))
ene_2021_fact_cal <- datos_proc %>%
as_survey_design(ids = id,
strata = estrato,
weights = fact_exp)
options(survey.adjust.domain.lonely=TRUE)
options(survey.lonely.psu="adjust")
IFT_sexo <- ene_2021_fact_cal %>%
filter(!is.na(activ)) %>%
filter(!is.na(sexo)) %>%
group_by(activ, sexo) %>%
summarise(prop = survey_prop(vartype = "ci"),
total = survey_total(vartype = "ci")) %>%
mutate(per = prop*100, ci_low = prop_low*100, ci_upp = prop_upp*100) %>%
select(activ, sexo, per, total, ci_low, ci_upp) %>%
pivot_wider(names_from = "activ", values_from = c("per", "total"))
